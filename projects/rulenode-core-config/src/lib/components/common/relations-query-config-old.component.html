<section fxLayout="column" [formGroup]="relationsQueryFormGroup">
  <div fxLayoutGap="8px" fxLayout="row">
    <mat-form-field class="mat-block" style="min-width: 100px;">
      <mat-label translate>relation.direction</mat-label>
      <mat-select required matInput formControlName="direction">
        <mat-option *ngFor="let type of directionTypes" [value]="type">
          {{ directionTypeTranslations.get(type) | translate }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field fxFlex floatLabel="always" class="mat-block">
      <mat-label translate>tb.rulenode.max-relation-level</mat-label>
      <input matInput
             type="number"
             min="1"
             step="1"
             placeholder="{{ 'tb.rulenode.unlimited-level' | translate }}"
             formControlName="maxLevel">
    </mat-form-field>
  </div>
  <div class="pb-16" fxLayout="row">
    <div tb-hint-tooltip-icon="{{ 'tb.rulenode.last-level-relation-tooltip' | translate }}"
          *ngIf="relationsQueryFormGroup.get('maxLevel').value > 1"
          class="tb-form-row no-border no-padding last-level-slide-toggle">
      <mat-slide-toggle class="mat-slide" formControlName="fetchLastLevelOnly">
        {{ 'alias.last-level-relation' | translate }}
      </mat-slide-toggle>
    </div>
  </div>
  <div fxLayout="column" class="tb-form-panel stroked">
    <div class="mat-caption tb-title tb-title__bold" translate>relation.relation-filters</div>
    <tb-relation-filters
      formControlName="filters"
    ></tb-relation-filters>
  </div>
</section>
